---
- hosts: localhost
  vars:
    vagrant: true
    create_infra: true
    create_swarm: false
  roles:
    -  role: infra-init

- hosts: shelleg-infra-instances
  become: true
  roles:
    - role: shelleg-common
    - role: apt-cacher-ng
    - role: docker-host
  tasks:
    - name: "pull Docker Images Instead of downloading in realtime"
      docker_image:
        name: "{{ item.name }}:{{ item.tag }}"
      with_items: "{{ docker_images }}"

- hosts: shelleg-infra01
  become: true
  roles:
    - role: apt-cacher-ng
    - role: docker-ntp
    - role: docker-dnsmasq
#    - role: docker-consul
#    - role: docker-registry


